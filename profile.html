<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Profile - AI Virtual Try-On</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Manage your AI Virtual Try-On profile, update avatar, and change password." />
    <link rel="stylesheet" href="style/style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="js/theme.js"></script>
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <button id="theme-toggle-btn" class="theme-toggle-btn">ðŸŒ™</button>
        <ul class="nav-links">
            <li><a href="tryon.html">Home</a></li>
            <li><a href="wardrobe.html">Wardrobe</a></li>
            <li><a href="profile.html" class="active">Profile</a></li>
        </ul>
        <div class="logo">AI Try-On</div>
        <div class="user-menu" id="user-info-nav">
            <!-- User info will be injected here -->
            <button onclick="logout()" class="nav-btn">Logout</button>
        </div>
    </nav>

    <div class="main-wrapper" style="max-width: 800px; margin: 40px auto; padding: 20px;">
        <h2 class="section-title" style="text-align: center; margin-bottom: 30px;">Manage Profile</h2>

        <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 30px;">
            <!-- Left Side: Avatar -->
            <div class="control-group"
                style="background: var(--surface); padding: 30px; border-radius: 12px; text-align: center;">
                <h3 style="margin-bottom: 20px;">Profile Photo</h3>
                <div style="position: relative; display: inline-block; margin-bottom: 20px;">
                    <img id="profile-avatar-preview" src=""
                        style="width: 150px; height: 150px; border-radius: 50%; object-fit: cover; border: 4px solid var(--primary-light); background: var(--surface-hover);">
                    <div style="position: absolute; bottom: 0; right: 0; background: var(--primary); padding: 8px; border-radius: 50%; cursor: pointer; color: white; display: flex;"
                        onclick="document.getElementById('avatar-upload').click()">
                        ðŸ“·
                    </div>
                </div>
                <input type="file" id="avatar-upload" accept="image/*" style="display:none">
                <p style="font-size: 13px; color: var(--text-muted); margin-bottom: 15px;">Click the camera icon to
                    upload a new profile picture.</p>
                <button id="save-avatar-btn" class="primary-btn hero-btn"
                    style="padding: 10px; width: 100%; font-size: 14px; display: none;">Save Photo</button>
            </div>

            <!-- Right Side: Details & Password -->
            <div style="display: flex; flex-direction: column; gap: 20px;">
                <div class="control-group" style="background: var(--surface); padding: 30px; border-radius: 12px;">
                    <h3 style="margin-bottom: 20px;">Personal Details</h3>
                    <form id="profile-details-form">
                        <div style="margin-bottom: 15px;">
                            <label
                                style="display: block; margin-bottom: 5px; font-weight: 500; font-size: 14px; color: var(--text);">Full
                                Name</label>
                            <input type="text" id="profile-fullname"
                                style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--border); background: var(--surface-hover); color: var(--text);"
                                required>
                        </div>
                        <div style="margin-bottom: 20px;">
                            <label
                                style="display: block; margin-bottom: 5px; font-weight: 500; font-size: 14px; color: var(--text);">Email
                                Address</label>
                            <input type="email" id="profile-email"
                                style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--border); background: var(--surface-hover); color: var(--text);"
                                disabled>
                            <small
                                style="color: var(--text-muted); font-size: 12px; margin-top: 4px; display: block;">Email
                                cannot be changed directly.</small>
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label
                                style="display: block; margin-bottom: 5px; font-weight: 500; font-size: 14px; color: var(--text);">Phone
                                Number</label>
                            <input type="tel" id="profile-phone"
                                style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--border); background: var(--surface-hover); color: var(--text);">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label
                                style="display: block; margin-bottom: 5px; font-weight: 500; font-size: 14px; color: var(--text);">Gender</label>
                            <select id="profile-gender"
                                style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--border); background: var(--surface-hover); color: var(--text);">
                                <option value="" disabled style="color: #111827; background: #ffffff;">Select Gender
                                </option>
                                <option value="male" style="color: #111827; background: #ffffff;">Male</option>
                                <option value="female" style="color: #111827; background: #ffffff;">Female</option>
                                <option value="transgender" style="color: #111827; background: #ffffff;">Transgender
                                </option>
                                <option value="other" style="color: #111827; background: #ffffff;">Prefer not to say
                                </option>
                            </select>
                        </div>
                        <button type="submit" class="primary-btn" style="padding: 10px 20px; font-size: 14px;">Update
                            Details</button>
                    </form>
                </div>

                <div class="control-group" style="background: var(--surface); padding: 30px; border-radius: 12px;">
                    <h3 style="margin-bottom: 20px;">Security</h3>
                    <form id="profile-password-form">
                        <div style="margin-bottom: 15px;">
                            <label
                                style="display: block; margin-bottom: 5px; font-weight: 500; font-size: 14px; color: var(--text);">New
                                Password</label>
                            <input type="password" id="profile-new-password"
                                style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--border); background: var(--surface-hover); color: var(--text);"
                                required placeholder="Enter new password">
                        </div>
                        <button type="submit" class="secondary-btn" style="padding: 10px 20px; font-size: 14px;">Change
                            Password</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay">
        <div style="text-align: center;">
            <div class="spinner"
                style="border: 3px solid rgba(71,85,105,0.4); border-radius: 50%; border-top: 3px solid #a855f7; width: 48px; height: 48px; animation: spin 0.8s linear infinite; margin: 0 auto 16px;">
            </div>
            <p class="loading-text" style="color: #cbd5e1; font-weight: 600;">Processing...</p>
        </div>
    </div>

    <style>
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Make it responsive */
        @media(max-width: 768px) {
            .main-wrapper>div {
                grid-template-columns: 1fr !important;
            }
        }
    </style>

    <script type="module" src="js/profile.js"></script>
    <script src="js/network-status.js"></script>
</body>

</html>